{% extends 'base/base.html' %}
{% block title %}EVT | Diego Lopez Portfolio{% endblock %}

{% load static %}
{% block extrahead %}
<link rel="stylesheet" href="{% static 'css/evt/evt.css' %}" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
{% endblock extrahead %}

{% block content %}
<div class="container custom-container-center">
  <h1 class="display-4 custom-title">RIT Electric Vehicle Team</h1>
  <h2 class="display-4 custom-subtitle">Firmware Team | 09/2023 - Present</h2>
  <!-- <a href="#can-section" class="btn btn-primary btn-lg">CANopen Page</a>
  <a href="#lvss-section" class="btn btn-primary btn-lg">LVSS Page</a>
  <a href="#rtos-section" class="btn btn-primary btn-lg">RTOS Page</a> -->
</div>


<div class="container custom-container">
  <h1 class="display-6 project-title">Controller Area Network</h1>
  <div class="accordion" id="accordionExample">
    <div id="can-section" class="accordion-item">
      <h2 class="accordion-header">
        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#canCollapseOne"
          aria-expanded="false" aria-controls="canCollapseOne">
          SDO Sample
        </button>
      </h2>
      <div id="canCollapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
        <div class="accordion-body">
          <strong>I designed an example program that would use two stm32 microcontrollers that would communicate with
            each other using the Service Data Objects (SDO) CANopen communication protocol.</strong>
        </div>
      </div>
    </div>
  </div>

  <h1 class="display-6 project-title">Low Voltage Subsystem</h1>
  <div class="accordion" id="lvssAccordion">
    <div id="lvss-section" class="accordion-item">
      <h2 class="accordion-header">
        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#lvssCollapseOne"
          aria-expanded="false" aria-controls="lvssCollapseOne">
          Firmware Documentation
        </button>
      </h2>
      <div id="lvssCollapseOne" class="accordion-collapse collapse" data-bs-parent="#lvssAccordion">
        <div class="accordion-body">
          <iframe src="{% static 'docs/lvss.pdf' %}" width="100%" height="80vh" style="border: none;"></iframe>
        </div>
      </div>
    </div>
  </div>
</div>

<nav class="breadcrumb-bottom" style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="/">Home</a></li>
    <li class="breadcrumb-item active" aria-current="page">EVT</li>
  </ol>
</nav>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Collapse all accordions initially
    document.querySelectorAll('.accordion-collapse').forEach(accordion => {
      accordion.classList.remove('show');
    });

    document.querySelectorAll('.accordion-button').forEach(button => {
      button.classList.add('collapsed');
      button.setAttribute('aria-expanded', 'false');
    });

    // Handle hash navigation
    const hash = window.location.hash;
    if (hash) {
      const target = document.querySelector(hash);
      if (target) {
        const button = target.querySelector('.accordion-button');
        const collapse = target.querySelector('.accordion-collapse');

        if (button && collapse) {
          button.classList.remove('collapsed');
          button.setAttribute('aria-expanded', 'true');
          collapse.classList.add('show');
        }

        target.scrollIntoView({ behavior: 'smooth' });
      }
    }
  });

</script>

{% endblock content %}